# CONFIGURATION FOR HTTP
<VirtualHost *:80>

        # Server name (can stay commented out for localhost)
        # ServerName localhost

        # Root directory for your website files
        DocumentRoot /var/www/html

        # Apache log files for HTTP traffic
        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        # Redirect all HTTP requests to HTTPS (comment out only with 443:443 bound)
        # Redirect permanent / https://localhost/

</VirtualHost>


# CONFIGURATION FOR HTTPS (port 443)
<VirtualHost *:443>

        # Server name (can stay commented out for localhost)
        # ServerName localhost

        # Root directory for your website files
        DocumentRoot /var/www/html

        # Enable SSL engine
        SSLEngine on

        # Paths to your SSL certificate and private key
        SSLCertificateFile /etc/ssl/certs/server.crt
        SSLCertificateKeyFile /etc/ssl/certs/server.key

        # Enable all secure protocols except old SSLv2 and SSLv3
        SSLProtocol all -SSLv2 -SSLv3

        # Enforce strong cipher suites
        SSLCipherSuite HIGH:!aNULL:!MD5
        SSLHonorCipherOrder on

        # Apache log files for HTTPS traffic
        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/ssl_access.log combined

        # Ensure CGI and PHP scripts inherit the correct SSL environment variables
        <FilesMatch "\.(cgi|shtml|phtml|php)$">
            SSLOptions +StdEnvVars
        </FilesMatch>

</VirtualHost>

